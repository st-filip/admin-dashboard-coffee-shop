@if (product != null) {
<div class="is-flex is-align-items-center mb-4">
  <a [routerLink]="['/tabs/products']" class="icon mr-2">
    <i class="fas fa-chevron-left fa-2x"></i>
  </a>
  <h2 class="title">{{ product.name }}</h2>
</div>
<div class="columns is-mobile is-multiline">
  <div class="column is-12-mobile is-6-tablet is-3-desktop">
    <figure class="box p-0 is-clipped is-full-height">
      <img
        [src]="product.imageUrl"
        alt="{{ product.name }}"
        style="display: block; width: 100%; height: 100%; object-fit: cover"
      />
    </figure>
  </div>

  <div class="column is-12-mobile is-6-tablet is-9-desktop">
    <form
      class="card is-full-height is-flex is-flex-direction-column is-justify-content-space-between"
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
    >
      <div class="card-content">
        <div class="field">
          <label class="label">Name</label>
          <div class="control">
            <input
              class="input"
              type="text"
              formControlName="name"
              placeholder="Enter product name"
            />
          </div>
        </div>

        <div class="field">
          <label class="label">Description</label>
          <div class="control">
            <textarea
              class="textarea"
              formControlName="description"
              placeholder="Enter description"
            ></textarea>
          </div>
        </div>

        <div class="field">
          <label class="label">Price</label>
          <div class="control">
            <input
              class="input"
              type="number"
              formControlName="price"
              placeholder="Enter price"
            />
          </div>
        </div>

        <div class="field">
          <label class="label">Stock</label>
          <div class="control">
            <input
              class="input"
              type="number"
              formControlName="stock"
              placeholder="Enter stock"
            />
          </div>
        </div>
      </div>

      <footer class="card-footer is-clipped">
        <button
          class="card-footer-item button has-background-primary is-radiusless has-text-primary-light"
          type="submit"
          [disabled]="form.invalid"
        >
          Save Changes
        </button>
        <button
          class="card-footer-item button has-background-danger is-radiusless has-text-danger-light"
          type="button"
        >
          Delete Product
        </button>
      </footer>
    </form>
  </div>
</div>

} @else if (productNotFound) {
<div>Product not found.</div>
} @else {
<div class="has-text-centered mt-6">
  <progress class="progress is-small is-info" max="100"></progress>
  <p class="mt-2">Loading product...</p>
</div>
}
